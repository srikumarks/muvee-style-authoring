<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>7.3&nbsp;Combining effects</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><link rel="stylesheet" type="text/css" href="musa.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Authoring muvee Styles</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="License.html" class="tocviewlink" pltdoc="x">License</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Getting_Started.html" class="tocviewlink" pltdoc="x">Getting Started</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Style_Package_Structure.html" class="tocviewlink" pltdoc="x">Style Package Structure</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Anatomy_of_a_muvee.html" class="tocviewlink" pltdoc="x">Anatomy of a muvee</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Tutorials.html" class="tocviewlink" pltdoc="x">Tutorials</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Specifying_Style_Behaviour.html" class="tocviewlink" pltdoc="x">Specifying Style Behaviour</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="About_effects_and_transitions.html" class="tocviewselflink" pltdoc="x">About effects and transitions</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Sound_effects.html" class="tocviewlink" pltdoc="x">Sound effects</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="List_of_primitive_effects_and_transitions.html" class="tocviewlink" pltdoc="x">List of primitive effects and transitions</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="ShowTime_-_the_muvee_timeline.html" class="tocviewlink" pltdoc="x">Show<span class="mywbr"> </span>Time -<wbr></wbr> the muvee timeline</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Utility_functions.html" class="tocviewlink" pltdoc="x">Utility functions</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="A_Gentle_Introduction_to_muSE.html" class="tocviewlink" pltdoc="x">A Gentle Introduction to mu<span class="mywbr"> </span>SE</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>7&nbsp;</td><td><a href="About_effects_and_transitions.html" class="tocviewlink" pltdoc="x">About effects and transitions</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.1&nbsp;</td><td><a href="Introduction.html" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">7.2&nbsp;</td><td><a href="Primitive_effects.html" class="tocviewlink" pltdoc="x">Primitive effects</a></td></tr><tr><td align="right">7.3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Combining effects</a></td></tr><tr><td align="right">7.4&nbsp;</td><td><a href="Variable_effects.html" class="tocviewlink" pltdoc="x">Variable effects</a></td></tr><tr><td align="right">7.5&nbsp;</td><td><a href="Music_triggered_effects.html" class="tocviewlink" pltdoc="x">Music triggered effects</a></td></tr><tr><td align="right">7.6&nbsp;</td><td><a href="Transitions.html" class="tocviewlink" pltdoc="x">Transitions</a></td></tr><tr><td align="right">7.7&nbsp;</td><td><a href="Segment_information_functions.html" class="tocviewlink" pltdoc="x">Segment information functions</a></td></tr><tr><td align="right">7.8&nbsp;</td><td><a href="Source_information_functions.html" class="tocviewlink" pltdoc="x">Source information functions</a></td></tr><tr><td align="right">7.9&nbsp;</td><td><a href="Render_information.html" class="tocviewlink" pltdoc="x">Render information</a></td></tr><tr><td align="right">7.10&nbsp;</td><td><a href="Unit_helper_functions.html" class="tocviewlink" pltdoc="x">Unit helper functions</a></td></tr><tr><td align="right">7.11&nbsp;</td><td><a href="Getting_into_deep_waters.html" class="tocviewlink" pltdoc="x">Getting into deep waters</a></td></tr><tr><td align="right">7.12&nbsp;</td><td><a href="A_note_on_Image_Operators.html" class="tocviewlink" pltdoc="x">A note on <a name="(tech._image._operator)"></a><span style="font-style: italic">Image Operators</span></a></td></tr><tr><td align="right">7.13&nbsp;</td><td><a href="Applications_of_effects.html" class="tocviewlink" pltdoc="x">Applications of effects</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>7.3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Combining effects</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.3.1&nbsp;</td><td><a href="#(part._effect-stack)" class="tocviewlink" pltdoc="x">effect-<wbr></wbr>stack</a></td></tr><tr><td align="right">7.3.2&nbsp;</td><td><a href="#(part._transition-stack)" class="tocviewlink" pltdoc="x">transition-<wbr></wbr>stack</a></td></tr><tr><td align="right">7.3.3&nbsp;</td><td><a href="#(part._layers)" class="tocviewlink" pltdoc="x">layers</a></td></tr><tr><td align="right">7.3.4&nbsp;</td><td><a href="#(part._remap-time)" class="tocviewlink" pltdoc="x">remap-<wbr></wbr>time</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">7.3.1<tt>&nbsp;</tt></span><a href="#(part._effect-stack)" class="tocsubseclink" pltdoc="x">effect-<wbr></wbr>stack</a></td></tr><tr><td><span class="tocsublinknumber">7.3.2<tt>&nbsp;</tt></span><a href="#(part._transition-stack)" class="tocsubseclink" pltdoc="x">transition-<wbr></wbr>stack</a></td></tr><tr><td><span class="tocsublinknumber">7.3.3<tt>&nbsp;</tt></span><a href="#(part._layers)" class="tocsubseclink" pltdoc="x">layers</a></td></tr><tr><td><span class="tocsublinknumber">7.3.3.1<tt>&nbsp;</tt></span><a href="#(part._.An_example)" class="tocsubseclink" pltdoc="x">An example</a></td></tr><tr><td><span class="tocsublinknumber">7.3.3.2<tt>&nbsp;</tt></span><a href="#(part._.Explicit_inputs)" class="tocsubseclink" pltdoc="x">Explicit inputs</a></td></tr><tr><td><span class="tocsublinknumber">7.3.4<tt>&nbsp;</tt></span><a href="#(part._remap-time)" class="tocsubseclink" pltdoc="x">remap-<wbr></wbr>time</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="Primitive_effects.html" title="backward to &quot;7.2 Primitive effects&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="About_effects_and_transitions.html" title="up to &quot;7 About effects and transitions&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Variable_effects.html" title="forward to &quot;7.4 Variable effects&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>7.3<tt>&nbsp;</tt><a name="(part._.Combining_effects)"></a>Combining effects</h4><p>The effect framework offers a few expressive ways to combine effects
to create new types of effects. The primitive effects can be kept
simple only if the means to combine them exists. This section is about
how to combine simple effects to create more sophisticated ones. It is
worth familiarizing yourself with <span class="RktSym">effect-stack</span> and <span class="RktSym">layers</span> because
you&rsquo;ll be using them a lot.</p><p>All these functions which transform one or a collection of effects
into an effect are collectively referred to as <a name="(tech._effect._combinator)"></a><span style="font-style: italic">effect combinators</span>
and fall into the category of <a name="(tech._higher._order._function)"></a><span style="font-style: italic">higher order functions</span>.</p><h5>7.3.1<tt>&nbsp;</tt><a name="(part._effect-stack)"></a>effect-stack</h5><p><div class="SIntrapara">Say you want to create a &ldquo;photo on the wall&rdquo; look for the pictures in
the muvee. You&rsquo;ll need to shrink down the picture a bit so the whole
thing fits into the screen and rotate it a bit to give the appearance
of casual placement on the wall. To create this look, you&rsquo;ll need to
combine the <span class="RktSym">Scale</span> and <span class="RktSym">Rotate</span> effects as follows -
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">effect-stack</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Rotate"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"degrees"</span><span class="hspace">&nbsp;</span><span class="RktVal">15.0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Scale"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"y"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">You can read an <span class="RktSym">effect-stack</span> expression from top to bottom.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">effect-stack</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Rotate"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"degrees"</span><span class="hspace">&nbsp;</span><span class="RktVal">15.0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">rest-of-the-stuff</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">should be read as</div></p><p><span style="font-style: italic">The <span class="RktVar">rest-of-the-stuff</span> is rotated by 15 degrees</span>.</p><p><div class="SIntrapara">Here is another way to write the same effect combination -
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">effect-stack</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Rotate"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"degrees"</span><span class="hspace">&nbsp;</span><span class="RktVal">15.0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect-stack</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Scale"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"y"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.7</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>i.e. the <span class="RktVar">rest-of-the-stuff</span> can itself be seen as an effect stack.</p><h5>7.3.2<tt>&nbsp;</tt><a name="(part._transition-stack)"></a>transition-stack</h5><p>Similar to <span class="RktSym">effect-stack</span> except that the last entry in the stack <span style="font-weight: bold">must</span>
be a transition - i.e. a two-input effect and the other <span style="font-weight: bold">must</span> be one-input
effects.</p><h5>7.3.3<tt>&nbsp;</tt><a name="(part._layers)"></a>layers</h5><p>The <span class="RktSym">layers</span> primitive combinator is the way to put together a scene
in parts. For example, you might want to present a single picture with
four different colorations, Andy Warhol style. <span class="RktSym">layers</span> will help you
compose such compound scenes.</p><p><div class="SIntrapara">A <span class="RktSym">layers</span> composition has the following form -
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">layers</span><span class="hspace">&nbsp;</span><span class="RktVar">input-pattern</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">effect1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">effect2</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">....</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">effectN</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The <span class="RktVar">input-pattern</span> has the same form and purpose as the
<a href="Primitive_effects.html#(tech._input._pattern)" class="techoutside" pltdoc="x"><span class="techinside">input pattern</span></a> specification for effects. The most
important point to note here is that <span class="RktVar">effect1</span>, <span class="RktVar">effect2</span> etc. <span style="font-weight: bold">must</span>
be zero-input effects. We will use the term <span style="font-style: italic">layer</span> to refer to
<span style="font-style: italic">zero-input effects</span> hereafter.</p><h5>7.3.3.1<tt>&nbsp;</tt><a name="(part._.An_example)"></a>An example</h5><p>Say we want to place four space-shifted copies of a picture or video with
decreasing transparencies to create a motion-blurred appearance.</p><p><div class="SIntrapara">We can write down our intention like this -
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">layers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">input  x-shift  opacity</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">shifted-translucent</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.0</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.6</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">shifted-translucent</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.2</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.4</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">shifted-translucent</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.4</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">shifted-translucent</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.6</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0.1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">where we expect the <span class="RktSym">shifted-translucent</span> function to somehow compute
a zero-input effect specification that operates on the layer&rsquo;s single
input <span class="RktSym">A</span>. Knowing what we expect this function to do, we can proceed
to elaborate it -
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">shifted-translucent</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">x-shift</span><span class="hspace">&nbsp;</span><span class="RktSym">opacity</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect-stack</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Alpha"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Shifted</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"Alpha"</span><span class="hspace">&nbsp;</span><span class="RktSym">opacity</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Translate"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Scaled</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="hspace">&nbsp;</span><span class="RktSym">x-shift</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Scale"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">input</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt"><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">A</span><span class="stt">&rsquo;</span><span class="stt"> comes from function parameter</span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.4</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">param</span><span class="hspace">&nbsp;</span><span class="RktVal">"y"</span><span class="hspace">&nbsp;</span><span class="RktVal">0.4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Here is what the composition looks like -</p><p><img src="motion-blur.jpg" alt="" /></p><h5>7.3.3.2<tt>&nbsp;</tt><a name="(part._.Explicit_inputs)"></a>Explicit inputs</h5><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">input</span><span class="hspace">&nbsp;</span><span class="RktVar">index</span><span class="hspace">&nbsp;</span><span class="RktVar">the-input</span><span class="RktPn">)</span></p></blockquote><p>Knowing that the <span class="RktSym">shifted-translucent</span> function should compute a
zero-input effect tells us that the last entry of the <span class="RktSym">effect-stack</span>
that we use must be a zero-input effect as well.</p><p>The <span class="RktSym">Scale</span> effect is normally a one-input effect. We therefore turn
it into a layer for the above example by explicitly specifying its
input as what was given to the <span class="RktSym">make-shifted-translucent</span> function as
its <span class="RktSym">A</span> parameter. We do that using the <span class="RktSym">input</span> form which has the
following general structure -</p><p>The inputs to an effect are numbered from 0. Therefore <span class="RktVal">0</span> for
<span class="RktVar">index</span> means the first input, <span class="RktVal">1</span> means the second input, etc.</p><p>The ability to explicitly specify inputs is essential to many kinds of
layer compositions such as what we did above.</p><h5>7.3.4<tt>&nbsp;</tt><a name="(part._remap-time)"></a>remap-time</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktSym">remap-time</span><span class="hspace">&nbsp;</span><span class="RktVar">fstart</span><span class="hspace">&nbsp;</span><span class="RktVar">fstop</span><span class="hspace">&nbsp;</span><span class="RktVar">fx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fstart</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">fraction</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fstop</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">fraction</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr></table></div><div class="SIntrapara"><span class="RktSym">remap-time</span> doesn&rsquo;t combine effects, but it transforms one effect into
another that operates for only a part of the full span of an effect. For example,
you might want to author a segment effect, but want it to operate only
for the middle 1/3 of the segment. You can restrict the time interval for such
purposes using <span class="RktSym">remap-time</span>. For example -</div></p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">muvee-segment-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">remap-time</span><span class="hspace">&nbsp;</span><span class="RktVal">1/3</span><span class="hspace">&nbsp;</span><span class="RktVal">2/3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktVal">"Sepia"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>- gives you a segment effect that operates for only the middle 1/3 of a segment.</p><p><div class="SIntrapara"><span class="RktVar">fstart</span> and <span class="RktVar">fstop</span> are fractional values indicating the fraction
of the full interval <span style="font-style: italic"></span>[<span style="font-style: italic">start, stop</span>)<span style="font-style: italic"></span> for which the effect should apply.
</div><div class="SIntrapara"><blockquote><p><span class="RktVar">fstart</span> is in the range <span style="font-style: italic"></span>[<span style="font-style: italic"></span>0<span style="font-style: italic">.</span>0<span style="font-style: italic">, fstop</span>)<span style="font-style: italic"></span> and</p></blockquote></div><div class="SIntrapara"><blockquote><p><span class="RktVar">fstop</span> is in the range <span style="font-style: italic"></span>(<span style="font-style: italic">fstart, </span>1<span style="font-style: italic">.</span>0<span style="font-style: italic"></span>]<span style="font-style: italic"></span>.</p></blockquote></div></p><p><span class="RktSym">remap-time</span> doesn&rsquo;t combine two or more effects, but is useful when combining
two or more effects using, say, <span class="RktSym">layers</span>.</p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="Primitive_effects.html" title="backward to &quot;7.2 Primitive effects&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="About_effects_and_transitions.html" title="up to &quot;7 About effects and transitions&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Variable_effects.html" title="forward to &quot;7.4 Variable effects&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>